// <autogenerated>
//   This file was generated by T4 code generator AllClientModels.tt.
//   Any changes made to this file manually will be lost next time the file is regenerated.
// </autogenerated>

using CoreEntities;
using CoreEntities.Client.Entities;
//using WaterNut.Client.Services;
using CoreEntities.Client.Services;
using System.Linq;

namespace SalesDataQS.Client.Entities
{
    public partial class AsycudaDocumentEntryData
    {
        
            partial void MyNavPropStartUp()
            {

              PropertyChanged += UpdateMyNavProp;

            }


      
       #region MyNavProp Entities
      
      

        void UpdateMyNavProp(object sender, System.ComponentModel.PropertyChangedEventArgs e)
        {
           if (e.PropertyName == "AsycudaDocumentId")
            {
                UpdateAsycudaDocument();
            }
        }

        private void UpdateAsycudaDocument()
        {
            using (var ctx = new AsycudaDocumentClient())
            {
                var dto = ctx.GetAsycudaDocuments().Result.FirstOrDefault(x => x.ASYCUDA_Id == this.AsycudaDocumentId);
                if(dto != null)AsycudaDocument = new AsycudaDocument(dto);
            }
        }        

        AsycudaDocument _asycudaDocument = null;

        public AsycudaDocument AsycudaDocument
        {
            get
            {
                if(_asycudaDocument != null) return _asycudaDocument;
                UpdateAsycudaDocument();
                return _asycudaDocument;
            }
            set
            {
                if (value != null)
                {
                    _asycudaDocument = value;

                    AsycudaDocumentId = _asycudaDocument.ASYCUDA_Id;

                    NotifyPropertyChanged("AsycudaDocument");
                }
            }

        }
        

         #endregion
 
    }
   
}
		