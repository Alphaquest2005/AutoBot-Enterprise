// <autogenerated>
//   This file was generated by T4 code generator AllClientModels.tt.
//   Any changes made to this file manually will be lost next time the file is regenerated.
// </autogenerated>

using CoreEntities;
using CoreEntities.Client.Entities;
//using WaterNut.Client.Services;
using CoreEntities.Client.Services;
using System.Linq;

namespace CoreEntities.Client.Entities
{
    public partial class AsycudaDocumentBasicInfo
    {
        
            partial void MyNavPropStartUp()
            {

              PropertyChanged += UpdateMyNavProp;

            }


      
       #region MyNavProp Entities
      
      

        void UpdateMyNavProp(object sender, System.ComponentModel.PropertyChangedEventArgs e)
        {
           if (e.PropertyName == "ApplicationSettingsId")
            {
                UpdateApplicationSettings();
            }
           if (e.PropertyName == "Customs_ProcedureId")
            {
                UpdateCustoms_Procedure();
            }
        }

        private void UpdateApplicationSettings()
        {
            using (var ctx = new ApplicationSettingsClient())
            {
                var dto = ctx.GetApplicationSettings().Result.FirstOrDefault(x => x.ApplicationSettingsId == this.ApplicationSettingsId);
                if(dto != null)ApplicationSettings = new ApplicationSettings(dto);
            }
        }        

        ApplicationSettings _applicationSettings = null;

        public ApplicationSettings ApplicationSettings
        {
            get
            {
                if(_applicationSettings != null) return _applicationSettings;
                UpdateApplicationSettings();
                return _applicationSettings;
            }
            set
            {
                if (value != null)
                {
                    _applicationSettings = value;

                    ApplicationSettingsId = _applicationSettings.ApplicationSettingsId;

                    NotifyPropertyChanged("ApplicationSettings");
                }
            }

        }
 
        private void UpdateCustoms_Procedure()
        {
            using (var ctx = new Customs_ProcedureClient())
            {
                var dto = ctx.GetCustoms_Procedure().Result.FirstOrDefault(x => x.Customs_ProcedureId == this.Customs_ProcedureId);
                if(dto != null)Customs_Procedure = new Customs_Procedure(dto);
            }
        }        

        Customs_Procedure _customs_Procedure = null;

        public Customs_Procedure Customs_Procedure
        {
            get
            {
                if(_customs_Procedure != null) return _customs_Procedure;
                UpdateCustoms_Procedure();
                return _customs_Procedure;
            }
            set
            {
                if (value != null)
                {
                    _customs_Procedure = value;

                    Customs_ProcedureId = _customs_Procedure.Customs_ProcedureId;

                    NotifyPropertyChanged("Customs_Procedure");
                }
            }

        }
        

         #endregion
 
    }
   
}
		